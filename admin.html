<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Admin fel√ºlet</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #003d59;
      color: white;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1200px;
      margin: 40px auto;
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      justify-content: center;
    }

    .form-panel, .naplo-panel {
      flex: 1 1 300px;
      background: rgba(255,255,255,0.1);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      min-width: 280px;
    }

    h1, h3 {
      text-align: center;
      margin-bottom: 20px;
      color: #ffc107;
    }

    label {
      display: block;
      margin-top: 20px;
      font-weight: bold;
    }

    input, textarea {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
    }

    button {
      margin-top: 20px;
      padding: 12px 24px;
      background: #dc3545;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .megerosites {
      margin-top: 20px;
      text-align: center;
      color: #c8f7c5;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 10px 0;
      background: rgba(255,255,255,0.1);
      padding: 10px;
      border-radius: 6px;
    }

    .logout {
      text-align: center;
      margin-top: 20px;
    }

    .logout button {
      background: #dc3545;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    .admin-tabella {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 12px;
      margin-top: 40px;
      color: white;
    }

    .tabella-grid {
      display: grid;
      grid-template-columns: 60px 1fr 100px 60px;
      gap: 10px;
      align-items: center;
      margin-bottom: 20px;
    }

    .tabella-grid input {
      padding: 8px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
    }

    .uj-sor {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .uj-sor input {
      padding: 8px;
      font-size: 1em;
      border-radius: 6px;
      border: none;
    }

    .uj-sor button {
      background: #dc3545;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }

    @media (max-width: 768px) {
  body {
    padding: 20px;
  }

  .container {
    flex-direction: column;
    gap: 20px;
    margin: 20px auto;
  }

  .form-panel,
  .naplo-panel,
  .admin-tabella {
    flex: 1 1 100%;
    padding: 20px;
    margin: 0 auto;
  }

  h1, h3 {
    font-size: 1.3em;
  }

  input,
  textarea,
  button {
    font-size: 1em;
    padding: 10px;
  }

  label {
    margin-top: 15px;
    font-size: 0.95em;
  }

  .uj-sor {
    flex-direction: column;
    gap: 10px;
  }

  .tabella-grid {
    grid-template-columns: 1fr;
  }

  .logout {
    margin: 20px 0;
  }

  .rolunk-jobb img,
  .rolunk-kepek img {
    width: 100%;
  }

  ul {
    padding-left: 0;
  }

  li {
    font-size: 0.95em;
  }

  .megerosites {
    font-size: 0.95em;
  }
}

  </style>
</head>
<body>
  <script>
    if (localStorage.getItem("adminLoggedIn") !== "true") {
      window.location.href = "login.html";
    }
  </script>

  <div class="logout">
    <button onclick="localStorage.removeItem('adminLoggedIn'); location.href='login.html';">Kil√©p√©s</button>
  </div>

  <div class="container"> 
    <!-- R√ìLUNK szekci√≥ --> 
    <div class="form-panel"> 
      <h3>R√ìLUNK sz√∂veg</h3> 
      <textarea id="rolunkSzoveg" rows="8" placeholder="√çrd be a bemutatkoz√≥ sz√∂veget..."></textarea> 
      <button onclick="mentesRolunk()">Ment√©s</button> 
      <div class="megerosites" id="rolunkUzenet">
    </div> 
  </div>

    <!-- √ìRAREND szekci√≥ -->
    <div class="form-panel">
      <h3>√ìRAREND</h3>
      <label>Nap</label>
      <input type="text" id="oraNap" placeholder="Pl. H√©tf≈ë">
      <label>Id≈ëpont</label>
      <input type="text" id="oraIdo" placeholder="Pl. 18:00‚Äì19:30">
      <label>Helysz√≠n</label>
      <input type="text" id="oraHely" placeholder="Pl. Sportcsarnok">
      <button onclick="hozzaadOrarend()">Hozz√°ad√°s</button>
      <ul id="orarendLista"></ul>
    </div>

    <!-- H√çREK szekci√≥ -->
    <div class="form-panel">
      <h3>H√çREK hozz√°ad√°sa</h3>
      <label>C√≠m</label>
      <input type="text" id="hirCim">
      <label>Le√≠r√°s</label>
      <textarea id="hirSzoveg" rows="4"></textarea>
      <label>K√©p (opcion√°lis)</label>
      <input type="file" id="hirKep" accept="image/*">
      <button onclick="hozzaadHir()">Hozz√°ad√°s</button>
      <ul id="hirekLista"></ul>
    </div>

    <!-- K√âPGAL√âRIA szekci√≥ -->
    <div class="form-panel">
      <h3>K√âPGAL√âRIA</h3>
      <input type="file" id="galeriaInput" accept="image/*" multiple>
      <button onclick="mentesGaleria()">Felt√∂lt√©s</button>
      <ul id="galeriaLista"></ul>
    </div>

    <!-- VIDE√ìK szekci√≥ -->
    <div class="form-panel">
      <h3>VIDE√ìK (YouTube linkek)</h3>
      <input type="text" id="videoLink1" placeholder="YouTube link 1">
      <input type="text" id="videoLink2" placeholder="YouTube link 2">
      <button onclick="mentesVideok()">Ment√©s</button>
      <div class="megerosites" id="videoUzenet"></div>
    </div>

    <!-- NAPL√ì -->
    <div class="naplo-panel">
      <h3>Tev√©kenys√©gi napl√≥</h3>
      <ul id="naploLista"></ul>
    </div>
  </div>

  <div class="admin-tabella">
    <h3>Tabella szerkeszt√©s</h3>
    <div id="tabellaSorok" class="tabella-grid"></div>

    <div class="uj-sor">
      <input type="text" id="ujNev" placeholder="N√©v">
      <input type="number" id="ujPont" placeholder="Pontsz√°m">
      <button onclick="hozzaadTabellaSort()">‚ûï √öj sor</button>
    </div>
  </div>


  <script>
  // üîê Fix bel√©p√©si adatok
const ADMIN_USER = "admin";
const ADMIN_PASS = "hunor2025";

// üîê Bel√©p√©s
function ellenorizBelepes() {
  const user = document.getElementById("loginUser").value.trim();
  const pass = document.getElementById("loginPass").value.trim();
  if (user === ADMIN_USER && pass === ADMIN_PASS) {
    localStorage.setItem("bejelentkezve", "true");
    location.href = "admin.html";
  } else {
    document.getElementById("loginUzenet").textContent = "‚ùå Hib√°s bel√©p√©si adatok!";
  }
}

function ellenorizJogosultsag() {
  if (localStorage.getItem("bejelentkezve") !== "true") {
    alert("K√©rlek jelentkezz be!");
    location.href = "login.html";
  }
}

function kijelentkezes() {
  localStorage.removeItem("bejelentkezve");
  location.href = "login.html";
}

// üìò Napl√≥
function naploBejegyzes(szoveg) {
  const naplo = JSON.parse(localStorage.getItem("tevekenysegiNaplo")) || [];
  const idopont = new Date().toLocaleString();
  naplo.unshift(`${idopont} ‚Äì ${szoveg}`);
  localStorage.setItem("tevekenysegiNaplo", JSON.stringify(naplo));
  frissitNaplo();
}

function frissitNaplo() {
  const lista = document.getElementById("naploLista");
  const naplo = JSON.parse(localStorage.getItem("tevekenysegiNaplo")) || [];
  lista.innerHTML = "";
  naplo.slice(0, 10).forEach(sor => {
    const li = document.createElement("li");
    li.textContent = sor;
    lista.appendChild(li);
  });
}

// üßæ R√≥lunk 
function mentesRolunk() { 
  const szoveg = document.getElementById("rolunkSzoveg").value.trim(); 
  localStorage.setItem("rolunkSzoveg", szoveg); 
  document.getElementById("rolunkUzenet").textContent = "‚úÖ Mentve!"; 
  naploBejegyzes("R√ìLUNK sz√∂veg friss√≠tve"); 
}

// üìÖ √ìrarend
function hozzaadOrarend() {
  const nap = document.getElementById("oraNap").value.trim();
  const ido = document.getElementById("oraIdo").value.trim();
  const hely = document.getElementById("oraHely").value.trim();
  if (!nap || !ido || !hely) return;
  const lista = JSON.parse(localStorage.getItem("orarendLista")) || [];
  lista.push({ nap, ido, hely });
  localStorage.setItem("orarendLista", JSON.stringify(lista));
  naploBejegyzes(`√öj √≥rarendi bejegyz√©s: ${nap} ${ido} ${hely}`);
  megjelenitOrarend();
}

function megjelenitOrarend() {
  const lista = JSON.parse(localStorage.getItem("orarendLista")) || [];
  const ul = document.getElementById("orarendLista");
  ul.innerHTML = "";
  lista.forEach((ora, i) => {
    const li = document.createElement("li");
    li.textContent = `${ora.nap} ‚Äì ${ora.ido} ${ora.hely}`;
    const torles = document.createElement("button");
    torles.textContent = "‚ùå";
    torles.onclick = () => {
      lista.splice(i, 1);
      localStorage.setItem("orarendLista", JSON.stringify(lista));
      naploBejegyzes(`√ìrarend t√∂r√∂lve: ${ora.nap} ${ora.ido}`);
      megjelenitOrarend();
    };
    li.appendChild(torles);
    ul.appendChild(li);
  });
}

// üì∞ H√≠rek
function hozzaadHir() {
  const cim = document.getElementById("hirCim").value.trim();
  const szoveg = document.getElementById("hirSzoveg").value.trim();
  const file = document.getElementById("hirKep").files[0];
  if (!cim || !szoveg) return;
  if (file) {
    const reader = new FileReader();
    reader.onload = () => mentesHir({ cim, szoveg, kep: reader.result });
    reader.readAsDataURL(file);
  } else {
    mentesHir({ cim, szoveg, kep: "" });
  }
}

function mentesHir(hir) {
  const lista = JSON.parse(localStorage.getItem("hirekLista")) || [];
  lista.unshift(hir);
  localStorage.setItem("hirekLista", JSON.stringify(lista.slice(0, 6)));
  naploBejegyzes(`√öj h√≠r: ${hir.cim}`);
  megjelenitHirek();
}

function megjelenitHirek() {
  const lista = JSON.parse(localStorage.getItem("hirekLista")) || [];
  const ul = document.getElementById("hirekLista");
  ul.innerHTML = "";
  lista.forEach((hir, i) => {
    const li = document.createElement("li");
    li.textContent = hir.cim;
    const torles = document.createElement("button");
    torles.textContent = "‚ùå";
    torles.onclick = () => {
      lista.splice(i, 1);
      localStorage.setItem("hirekLista", JSON.stringify(lista));
      naploBejegyzes(`H√≠r t√∂r√∂lve: ${hir.cim}`);
      megjelenitHirek();
    };
    li.appendChild(torles);
    ul.appendChild(li);
  });
}

// üñºÔ∏è Gal√©ria
function mentesGaleria() {
  const files = Array.from(document.getElementById("galeriaInput").files);
  const promises = files.map(file => new Promise(resolve => {
    const reader = new FileReader();
    reader.onload = () => resolve(reader.result);
    reader.readAsDataURL(file);
  }));
  Promise.all(promises).then(kepek => {
    const eddigiek = JSON.parse(localStorage.getItem("galeriaKepek")) || [];
    const uj = [...kepek, ...eddigiek].slice(0, 30);
    localStorage.setItem("galeriaKepek", JSON.stringify(uj));
    naploBejegyzes(`${kepek.length} √∫j k√©p felt√∂ltve`);
    megjelenitGaleria();
  });
}

function megjelenitGaleria() {
  const lista = JSON.parse(localStorage.getItem("galeriaKepek")) || [];
  const ul = document.getElementById("galeriaLista");
  ul.innerHTML = "";
  lista.forEach((src, i) => {
    const li = document.createElement("li");
    li.textContent = `K√©p ${i + 1}`;
    const torles = document.createElement("button");
    torles.textContent = "‚ùå";
    torles.onclick = () => {
      lista.splice(i, 1);
      localStorage.setItem("galeriaKepek", JSON.stringify(lista));
      naploBejegyzes(`Gal√©riak√©pet t√∂r√∂lt√ºnk (${i + 1})`);
      megjelenitGaleria();
    };
    li.appendChild(torles);
    ul.appendChild(li);
  });
}

// üé• Vide√≥k
function mentesVideok() {
  const link1 = document.getElementById("videoLink1").value.trim();
  const link2 = document.getElementById("videoLink2").value.trim();
  const videok = [link1, link2].filter(l => l.includes("youtube.com") || l.includes("youtu.be"));
  localStorage.setItem("videoLinkek", JSON.stringify(videok.slice(0, 2)));
  document.getElementById("videoUzenet").textContent = "‚úÖ Vide√≥k mentve!";
  naploBejegyzes("Vide√≥linkek friss√≠tve");
  megjelenitVideok();
}

function megjelenitVideok() {
  const lista = JSON.parse(localStorage.getItem("videoLinkek")) || [];
  const container = document.getElementById("videoBox");
  if (!container) return;
  container.innerHTML = "";
  lista.forEach((link, i) => {
    const div = document.createElement("div");
    div.textContent = link;
    const torles = document.createElement("button");
    torles.textContent = "‚ùå";
    torles.onclick = () => {
      lista.splice(i, 1);
      localStorage.setItem("videoLinkek", JSON.stringify(lista));
      naploBejegyzes(`Vide√≥ t√∂r√∂lve: ${link}`);
      megjelenitVideok();
    };
    div.appendChild(torles);
    container.appendChild(div);
  });
}

// üèÜ Versenyt√°bla
function hozzaadTabellaSort() {
  const nev = document.getElementById("ujNev").value.trim();
  const pont = parseInt(document.getElementById("ujPont").value.trim());
  if (!nev || isNaN(pont)) return;

  const lista = JSON.parse(localStorage.getItem("versenyTabella")) || [];
  lista.push({ nev, pont });
  lista.sort((a, b) => b.pont - a.pont);
  localStorage.setItem("versenyTabella", JSON.stringify(lista));
  naploBejegyzes(`√öj versenyz≈ë hozz√°adva: ${nev} (${pont} pont)`);
  document.getElementById("ujNev").value = "";
  document.getElementById("ujPont").value = "";
  megjelenitTabellaAdmin();
}

function megjelenitTabellaAdmin() {
  const lista = JSON.parse(localStorage.getItem("versenyTabella")) || [];
  const container = document.getElementById("tabellaSorok");
  container.innerHTML = "";

  lista.forEach((sor, i) => {
    const sorszam = document.createElement("div");
    sorszam.textContent = `${i + 1}.`;

    const nevInput = document.createElement("input");
    nevInput.value = sor.nev;

    const pontInput = document.createElement("input");
    pontInput.type = "number";
    pontInput.value = sor.pont;

    const torles = document.createElement("button");
    torles.textContent = "‚ùå";
    torles.onclick = () => {
      lista.splice(i, 1);
      localStorage.setItem("versenyTabella", JSON.stringify(lista));
      naploBejegyzes(`Versenyz≈ë t√∂r√∂lve: ${sor.nev}`);
      megjelenitTabellaAdmin();
    };

    nevInput.onchange = pontInput.onchange = () => {
      lista[i].nev = nevInput.value.trim();
      lista[i].pont = parseInt(pontInput.value.trim());
      lista.sort((a, b) => b.pont - a.pont);
      localStorage.setItem("versenyTabella", JSON.stringify(lista));
      naploBejegyzes(`Versenyz≈ë m√≥dos√≠tva: ${lista[i].nev} (${lista[i].pont} pont)`);
      megjelenitTabellaAdmin();
    };

    container.appendChild(sorszam);
    container.appendChild(nevInput);
    container.appendChild(pontInput);
    container.appendChild(torles);
  });
}
</script>
</body>
</html>
 